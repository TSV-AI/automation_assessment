<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Automation Opportunity Assessment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body { 
        font-family: system-ui, -apple-system, sans-serif; 
        background: #151515; 
        line-height: 1.6; 
      }
    </style>
  </head>
  <body>
    <script>
    // Send height updates to parent window
    function sendHeightToParent() {
      const height = Math.max(
        document.body.scrollHeight,
        document.documentElement.scrollHeight,
        document.body.offsetHeight,
        document.documentElement.offsetHeight
      );
      
      if (window.parent && window.parent !== window) {
        window.parent.postMessage({
          type: 'resize',
          height: height
        }, '*');
      }
    }
    
    // Send height when content changes
    const observer = new MutationObserver(sendHeightToParent);
    observer.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true
    });
    
    // Send initial height
    window.addEventListener('load', sendHeightToParent);
    window.addEventListener('resize', sendHeightToParent);
    
    // Send height when React renders
    setTimeout(sendHeightToParent, 1000);
    setInterval(sendHeightToParent, 2000);

    // ADD NEW SCROLL HANDLER HERE
    document.addEventListener('DOMContentLoaded', function() {
      // Forward scroll events to parent window
      document.addEventListener('wheel', function(e) {
        // Only forward if we're in an iframe
        if (window.parent && window.parent !== window) {
          window.parent.postMessage({
            type: 'scroll',
            deltaY: e.deltaY,
            deltaX: e.deltaX
          }, '*');
          
          // Prevent default scroll in iframe
          e.preventDefault();
        }
      }, { passive: false });

      // Also handle touch scrolling for mobile
      let startY = 0;
      document.addEventListener('touchstart', function(e) {
        startY = e.touches[0].clientY;
      }, { passive: true });

      document.addEventListener('touchmove', function(e) {
        if (window.parent && window.parent !== window) {
          const deltaY = startY - e.touches[0].clientY;
          window.parent.postMessage({
            type: 'scroll',
            deltaY: deltaY * 2, // Multiply for better scroll feel
            deltaX: 0
          }, '*');
          
          startY = e.touches[0].clientY;
          e.preventDefault();
        }
      }, { passive: false });
    });
    </script>
    <div id="root"></div>
  </body>
</html>
